<html>
<head charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<link rel="stylesheet" type="text/css" href="source-code-pro.css">
<link rel="stylesheet" type="text/css" href="main.css">
<link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
<link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>
<body>
<div class="ui sidebar inverted left vertical menu " style="opacity: 0;">
<a class="item">
<br><br>
</a>
<a class="item">
<h3 id="page1">Main Page</h3>
</a>
<a class="item">
<h3 id="page2">How to use?</h3>
</a>
<a class="item">
<h3 id="page3">Reference of the JSON and CSV file variable names</h3>
</a>
</div>
<div class="pusher">
<div class="ui black big launch right attached button" style="display: none;">
<i class="icon list layout"></i>
</div>
<div class="ui center aligned header" id="Title">
<h1>Keywords Ranking</h1>
<a href="https://github.com/HCI-proj/webpage" target="_blank" id="aboutlink">Source Code</a>
</div>
<div id="main-sec">
<div class="ui text container">
<div class="ui segment" style="display: none;">Instruction:<br> <b>First Step:</b> Please select the keywords from the following sentence. <br><b>Second Step:</b> Rate each keyword base on importance.
<br>For example:<br> Given sentence: My watch fell in the water. We can select "watch", "fell", "water" as keywords. Then we enter the following data in to the textarea below:<br>
watch fell water<br>
<b>Notice:</b> "Blank" to separate the different keyword
</div>
<div class="ui segment" >
<div style="
font-weight: bolder;
font-size: larger;
">Instructions<a id="switch_lan" href="javascript:void(0)" style="text-align: right;font-size: initial;position: absolute;right: 30px;">&#x5207;&#x6362;&#x6210;&#x4E2D;&#x6587;</a></div>
<div id="instruction">
From existing research, we learned that writing as a cognitive process begins with the brain proposing an abstract idea of what to write (pictures, individual words, or phrases/clauses at most). The abstract idea is usually semantically complete, and our brain will transcribe it into the final form (correct spelling and grammar, appropriate tone, etc.). 
<br><br>
In this study, we will focus on understanding what kind of information will be abstracted by our brain first. The process is simulated by presenting a complete sentence to you first; after you get the complete semantic meaning of the sentence, please identify the words that will occur in your mind if you want to convey the same information. We will refer to them as keywords.
<br><br>
For example, if you want to write a short sentence like "Let's have a quick drink tonight after the movie." Keywords that are very likely coming to your mind would be "drink", "tonight", "movie", and "quick". We want you to identify these keywords by typing them in the textbox below, and also rate them based on how important they are according to the semantic meaning of the whole sentence. 1 means the least important keyword in the sentence (e.g., "quick"), 5 means the most important (e.g., "drink", and/or "tonight"). 
</div>
</div>
<div class="ui segment" id="Present">Loading...</div>
<textarea class="ui raised segment" id="Transcribe" spellcheck="false"></textarea>
<div class="ui fitted divider" style="border-color:white;"></div>
<div id="AlignBtn" class="ui stackable">
<span id="phraseCount">Phrase Count </span>
<button class="ui tiny button" id="Redo" disabled="disabled">
<i class="undo icon"></i>Back to the previous sentence
</button>
<div class="ui checkbox">
<input type="checkbox" id="EnterNext">
<label>Use Enter for Button Press</label>
</div>
<button class="ui green button" id="Next">Rate</button>
</div>
</div>
<p></p>
<div class="ui text container">
<div class="ui raised padded text container segment">
<h3 class="ui header">Rate keywords below!</h3>
<div class="ui list" id="ratingList"></div>

</div>
</div>
<div class="ui text container" id="SettingDevider" style="display:none;">
<div class="ui styled fluid accordion">
<div class="title">
<i class="dropdown icon"></i>
Settings
</div>
<div class="content">
<div class="ui list">
<div class="item">
<i class="small circle icon"></i>
<div class="content">
<div class="header">Upload Custom Phrase Set</div>
<div class="description">
<input type="file" id="fileInput" /><button class="ui mini button" id="upload">Upload</button>
</div></div>
</div>
<div class="item">
<i class="small circle icon"></i>
<div class="content">
<div class="header">Set Phrase Amount and Order</div>
<div class="description">
 <div class="ui checkbox">
<input type="checkbox" id="SetTotal">
<label>Stop test after <input type="number" id="numofPhrase" value="40" min="1" disabled="true"> phrases</label>
</div>
<button class="ui mini green button" id="Shuffle">Shuffle whole set</button>
</div></div>
</div>
<div class="item">
<i class="small circle icon"></i>
<div class="content">
<div class="header">Analysis Setting</div>
<div class="description">
<div class="ui checkbox">
<input type="checkbox" id="IgnoreCase">
<label>Ignore Case</label>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ui text container" id="LogContainer">
<div class="ui styled fluid accordion" style="display: none;">
<div class="title">
<i class="dropdown icon"></i>
Log
</div>
<div class="content">
<pre class="ui inverted grey stacked segment" id="LogDisplay">                    </pre>
</div>
</div>
</div>
<div class="ui text container middle aligned stackable grid">
<div class="four wide column">
<button class="small ui blue button" id="Analysis" style="display: none;">Analyze</button>
</div>
<div class="right aligned column ">
<div class="ui action mini input">
<input type="text" placeholder="result" id="Filename" disabled="disabled">
<select class="ui dropdown" id="Selectformat">
<option value="0">.json</option>
</select>
&nbsp;
<button class="small ui icon blue button" id="Download"> Download result</button>
&nbsp;
<input type="file" id="inputJson" size="chars">

</div>
</div>
</div>
<br />
<div class="ui container center aligned">
<div id="vis"></div>
</div>
</div>
<div id="tutorial-sec" hidden>
<div class="ui text container">
<div class="stackedit__html"><h1 id="tutorial">Tutorial</h1>
<p>Welcome to TextTest++, a WEB platform for text entry test. The output of the test data can be seamlessly plugged in the throughput calculation project <a href="https://github.com/DrustZ/Throughput" target="_blank"> here </a>. We build our platform purely with JS, thus you won’t worry about network-delay when testing. After loading the webpage, you’re good to go! </p>
<p style="color: gray; font-size: 1em;"><i>P.s. We strongly recommend using Chrome browser, as other browsers might yield unexpected results because of their different implementations of the web api.</i></p>
<h2 id="before-test">Before Test</h2>
<h4 id="import-phraseset">Import Phraseset</h4>
<div class="ui centered image">
<img src="imgs/more_settings.png">
</div>
<p>By clicking “Settings”, you can find the option <strong>Upload Custom Phrase Set</strong>. We use the phrase set from <a href="https://dl.acm.org/citation.cfm?id=765971">Phrase sets for evaluating text entry techniques</a> as default set. Make sure your phrase set uses the following format (one phrase for one line):</p>
<blockquote>
<p>phrase 1<br>
phrase 2<br>
…<br>
phrase n</p>
</blockquote>
<p>After choosing the phrase file, click <strong>upload</strong> to import the phrases.</p>
<h4 id="randomize-phrases">Randomize Phrases</h4>
<p>The default order of phrases is the same order as the phrase file. To randomize the test order, you could click the "Shuffle whole set" button.</p>
<p>If you check the box of "Stop test after", and modify the number, then the test will end after the number of phrases are completed.<br>
<h4 id="other-settings">Other Settings</h4>
<ul>
<li>Ignore Case - check <strong>Ignore Case</strong> in settings to ignore case between comparison of Present string and Transcribed string</li>
<li>Shortcut for Next - Check <strong>Use Enter for Next</strong> to enable change to the next phrase by hitting Enter key <i>(the option is next to <img src="imgs/next_btn.png" alt="Next"> button)</i></li>
</ul>
<h2 id="during-test">During Test</h2>
<p>During the test, the left corner of the input text will show the count of finished phrases. If the user entered all phrases, it will turn to red showing "<span style="color: red">task done!</span>" </p>
<h4 id="restart-last-phrase">Restart last phrase</h4>
<p>If the user want to re-enter the last phrase (for example, the user accidentally hit Next before finish the current phrase), he/she could click <img src="imgs/last_btn.png" alt="last"> button to restart the last phrase. However, one can only restart one phrase at one time. All actions of the last phrase before restart won’t be logged in the file.</p>
<h4 id="restart-whole-test">Restart whole test</h4>
<p>You can just refresh the webpage to start a new test or restart a test. Remember to set the phrase amount, seed, upload new phrase set (if necessary) and repeat other settings again.</p>
<h4 id="log-section">Log section</h4>
<p>You will notice that when the input text changes, the gray-background area below will change its content. The content shows the information of the text change using the approximation algorithm of T-sequence model.</p>
<h2 id="after-test">After Test</h2>
<p>Congratulations! You’ve finished a test. Now you might want to download the log files and further analyze them. <strong>Remember, always hit Analysis before download the file.</strong></p>
<h4 id="analyze-data">Analyze data</h4>
<p>Click <strong>Analysis</strong> button to show the graph of different error rates of the experiment. It is always required before download any file.</p>
<p>A statistic graph will show the different error rates (TER/UER/CER) of the typing process. A typical graph will look like this:</p>
<div class="ui centered image">
<img src="imgs/graph.png">
</div>
The graph is especially useful when you want to "clean out" some accidental data. for example, if one accidentally hit <strong>Next</strong> before he is finishing the phrase, you might find the phrase using the graph, because the UER (Uncorrected Error Rate) will be very high of the phrase.
<h4 id="download-data">Download Data</h4>
<p>You can set the custom file name or leave the filename section empty, which will generate a file named “TextTest”. Select the type of file and download. You can download all types.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Contents</th>
</tr>
</thead>
<tbody>
<tr>
<td>json</td>
<td>the log file of action information for each phrase</td>
</tr>
<tr>
<td>csv</td>
<td>the metrics file for each phrase, analyzed from the json file</td>
</tr>
</tbody>
</table><p>(for detailed explanation, please go to “Reference of csv file variable names”)</p>
<p>After analyze or download the experiment, you can always continue the test if you don’t refresh the page. The log file will continue to log the experiment.</p>
<h4 id="import-an-existing-json-file">Import an existing json file</h4>
<p>You could analyze an existing json file in other experiments as long as the format is the same. After successfully uploading, the error rate graph will appear, and you can download the CSV result of the file.</p>
</div>
</div>
</div>
<div id="reference-sec" hidden>
<div class="ui container">
<table class="ui celled inverted grey table">
<thead class="center aligned">
<tr><th class="ui four wide"><strong>Variable Name in CSV</strong></th>
<th><strong>Explanation</strong></th>
</tr></thead>
<tbody>
<tr>
<td>Trial</td>
<td>Index of the trial</td>
</tr>
<tr>
<td>Seconds</td>
<td>Total time spent to type the phrase</td>
</tr>
<tr>
<td>correct_time</td>
<td>Total correct time (delete + substitute) using approximation algorithm</td>
</tr>
<tr>
<td>entry_time</td>
<td>Total entry time (insert + substitute)</td>
</tr>
<tr>
<td>Tlen</td>
<td>Transcription string (T) length</td>
</tr>
<tr>
<td>Plen</td>
<td>Presented string (P) length</td>
</tr>
<tr>
<td>TCC</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Total Changed Characters during the typing process of the trial <i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>TCC = Tlen + 2 × IF</p>
</div>
</td>
</tr>
<tr>
<td>IF</td>
<td>IF (Incorrect Fixed) class, contains all deleted characters in the T-sequence</td>
</tr>
<tr>
<td>INF</td>
<td>INF (Incorrect Not Fixed) class, Minimum string distance (MSD) between P and T </td>
</tr>
<tr>
<td>C</td>
<td>C (Correct) class, contains correct characters in T</td>
</tr>
<tr>
<td>WPM</td>
<td>Word per minute</td>
</tr>
<tr>
<td>TOTPM</td>
<td>Total Word Change per minute</td>
</tr>
<tr>
<td>AC</td>
<td>Action count, the number of actions taken during the text entry process</td>
</tr>
<tr>
<td>DAC</td>
<td>Delete action count</td>
</tr>
<tr>
<td>IAC</td>
<td>Insert action count</td>
</tr>
<tr>
<td>SAC</td>
<td>Substitute action count</td>
</tr>
<tr>
<td>UER</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Uncorrected Error Rate <i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>UER = INF / (C + INF + IF)</p>
</div>
</td>
</tr>
<tr>
<td>CER</td>
 <td>
<div class="ui accordion">
<div class="title">
<p>Corrected Error Rate <i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>CER = IF / (C + INF + IF)</p>
</div>
</td>
</tr>
<tr>
<td>TER</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Total Error Rate <i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>TER = (INF + IF) / (C + INF + IF)</p>
</div>
</td>
</tr>
<tr>
<td>CPA</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Character per action, indicates the average number of characters changed per action <i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>CPA = TCC / AC</p>
</div>
</td>
</tr>
<tr>
<td>CPC</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Character change per correct action <i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>CPA = TCC / AC</p>
</div>
</div>
</td>
</tr>
<tr>
<td>CPE</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Character change per entry action<i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>CPE = (|T| + IF) / EAC</p>
</div>
</div>
</td>
</tr>
<tr>
<td>AE</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Action Efficiency, the average number of characters one action can change in a given time period<i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>AE = TCC / Total time</p>
</div>
</div>
</td>
</tr>
<tr>
<td>CE</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Correction action Efficiency, indicating the “text-correcting speed” of actions <i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>CE = IF / Correction time</p>
</div>
</div>
</td>
</tr>
<tr>
<td>EE</td>
<td>
<div class="ui accordion">
<div class="title">
<p>Entry action Efficiency, indicating the “text-entering speed” of actions <i class="plus icon" style="float: right;"></i></p>
</div>
<div class="content">
<p>EE = (Tlen + F) / Entry time</p>
</div>
</div>
</td>
</tr>
<tr>
<td>IFc</td>
<td>Correct characters in IF</td>
</tr>
<tr>
<td>IFe</td>
<td>Error characters in IF</td>
</tr>
</tbody>
</table>
</div>
<br><br>
<div class="ui container">
<h2> JSON Format </h2>
<p>A typical trial will be recorded in the following format:</p>
<pre class="ui inverted grey segment">    [
        {
            "Transcribe": [
                {
                    "Text": "m",
                    "TimeStamp": 1517175820224
                },
                {
                    "Text": "my",
                    "TimeStamp": 1517175820417
                }
            ],
            "Action": [
                [
                    "insert",
                    0,
                    1
                ],
                [
                    "insert",
                    1,
                    1
                ]
            ],
            "Trial": 0,
            "Present": "my watch fell in the water",
            "IF": 0,
            "INF": 24,
            "C": 2,
            "CER": "0.000",
            "UER": "0.923",
            "TER": "0.923"
        }
    ]
            </pre>
<ul>
<li><strong>Transcribe</strong> contains the sequence of the transcription texts, each has <i>Text</i> and <i>TimeStamp</i> property</li>
<li><strong>Action</strong> contains the sequence of the actions corresponding to each transcription text, each has <i>Operation (Insert/Delete/Substitute)</i> and <i>range (for insert, it's (start index, inserted count)/ for delete, it's (start index, end index)/ for substitute, it's (start index, end index))</i> property</li>
<li><strong>Trial</strong> means the current trial index</li>
<li><strong>Present</strong> is the presented string</li>
<li><strong>IF/INF/C/CER/UER/TER</strong> is the corresponding metric</li>
</ul>
</div>
<br>
</div>
</div>
<div class="ui modal">
  <div class="header">
    Please confirm your Identity
  </div>
  <div class="image content">
    <div class="description">
      <div class="ui labeled input">
        <div class="ui label">Your name:</div><input type="text" value="XXX" id="uname">
      </div>
      <div class="ui labeled input">
        <div class="ui label">Your ID:</div><input type="text" value="123" id="uid">
      </div>
      <p>Is the information correct? Please correct it if wrong.</p>
    </div>
  </div>
  <div class="actions">
    <div class="ui positive right labeled icon button" id="confirm_info">
      Yes
      <i class="checkmark icon"></i>
    </div>
  </div>
</div>
<!--<script src="https://cdn.jsdelivr.net/npm/vega@3.0.7/build/vega.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@2.0.0/build/vega-lite.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@3.0.0-rc6/build/vega-embed.js"></script>-->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.1.1/dist/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="semantic/dist/semantic.min.js"></script>
<script src="main.js"></script>
<script>
  var username=""
  var uid=""
  var lan=0
function getQueryVariable(variable)
{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
}
$(document).ready(function (){ 
  var lang = navigator.language||navigator.userLanguage;//常规浏览器语言和IE浏览器
      lang = lang.substr(0, 2);//截取lang前2位字符
      if(lang == 'zh'){
        document.querySelector("#instruction").innerHTML=`&#x4ECE;&#x73B0;&#x6709;&#x7684;&#x7814;&#x7A76;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x5199;&#x4F5C;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x8BA4;&#x77E5;&#x8FC7;&#x7A0B;&#xFF0C;&#x5927;&#x8111;&#x4F1A;&#x9996;&#x5148;&#x5BF9;&#x8981;&#x5199;&#x7684;&#x5185;&#x5BB9;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7684;&#x60F3;&#x6CD5;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x56FE;&#x7247;&#x3001;&#x5355;&#x4E2A;&#x5355;&#x8BCD;&#xFF0C; &#x6700;&#x591A;&#x4E5F;&#x5C31;&#x662F;&#x77ED;&#x8BED;/&#x4ECE;&#x53E5;&#xFF09;&#x3002;&#x8FD9;&#x4E2A;&#x7684;&#x60F3;&#x6CD5;&#x6240;&#x5305;&#x542B;&#x7684;&#x5185;&#x5BB9;&#x901A;&#x5E38;&#x5728;&#x8BED;&#x4E49;&#x4E0A;&#x662F;&#x5B8C;&#x6574;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5927;&#x8111;&#x4F1A;&#x7528;&#x6B63;&#x786E;&#x7684;&#x62FC;&#x5199;&#x548C;&#x8BED;&#x6CD5;&#x3001;&#x9002;&#x5F53;&#x7684;&#x8BED;&#x6C14;&#x5C06;&#x5176;&#x8F6C;&#x5F55;&#x6210;&#x6700;&#x7EC8;&#x5F62;&#x5F0F;&#x3002;
        <br><br>
&#x5728;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x91CD;&#x70B9;&#x4E86;&#x89E3;&#x5927;&#x8111;&#x9996;&#x5148;&#x4F1A;&#x62BD;&#x8C61;&#x51FA;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x6211;&#x4EEC;&#x4F1A;&#x9996;&#x5148;&#x5411;&#x60A8;&#x5448;&#x73B0;&#x5B8C;&#x6574;&#x7684;&#x53E5;&#x5B50;&#xFF1B;&#x5728;&#x4F60;&#x7406;&#x89E3;&#x4E86;&#x5176;&#x542B;&#x4E49;&#x4E4B;&#x540E;&#xFF0C;&#x8BF7;&#x627E;&#x51FA;&#x5176;&#x4E2D;&#x4F60;&#x60F3;&#x8BF4;&#x540C;&#x6837;&#x7684;&#x8BDD;&#x65F6;&#x8111;&#x6D77;&#x4E2D;&#x4F1A;&#x9996;&#x5148;&#x51FA;&#x73B0;&#x7684;&#x8BCD;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x5B83;&#x4EEC;&#x79F0;&#x4E3A;&#x5173;&#x952E;&#x5B57;&#x3002;
<br><br>
&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5199;&#x4E00;&#x4E2A;&#x7B80;&#x77ED;&#x7684;&#x53E5;&#x5B50;&#xFF0C;&#x4F8B;&#x5982;&#x201C;&#x4ECA;&#x665A;&#x770B;&#x5B8C;&#x7535;&#x5F71;&#x6211;&#x4EEC;&#x559D;&#x70B9;&#x5C0F;&#x9152; (Let&#x2019;s have a quick drink tonight after the movie.)&#x201D;&#x3002;&#x5F88;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x5728;&#x4F60;&#x8111;&#x6D77;&#x4E2D;&#x7684;&#x5173;&#x952E;&#x8BCD;&#x662F;&#x201C;&#x559D;&#x9152; &#xFF08;drink&#xFF09;&#x201D;&#x3001;&#x201C;&#x4ECA;&#x665A; &#xFF08;tonight&#xFF09;&#x201D;&#x3001;&#x201C;&#x7535;&#x5F71;&#xFF08;movie&#xFF09;&#x201D;&#x548C;&#x201C;&#x5C0F;/&#x5FEB;&#xFF08;quick&#xFF09;&#x201D;&#x3002;&#x4F60;&#x9700;&#x8981;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x672C;&#x6846;&#x4E2D;&#x952E;&#x5165;&#x8FD9;&#x4E9B;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x5E76;&#x5BF9;&#x7167;&#x6574;&#x4E2A;&#x53E5;&#x5B50;&#x7684;&#x8BED;&#x4E49;&#x6765;&#x7ED9;&#x5B83;&#x4EEC;&#x7684;&#x91CD;&#x8981;&#x6027;&#x5BF9;&#x5B83;&#x4EEC;&#x8FDB;&#x884C;&#x8BC4;&#x5206;&#x3002; 1 &#x8868;&#x793A;&#x53E5;&#x5B50;&#x4E2D;&#x6700;&#x4E0D;&#x91CD;&#x8981;&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x201C;&#x5C0F;/&#x5FEB;&#xFF08;quick&#xFF09;&#x201D;&#xFF09;&#xFF0C;5 &#x8868;&#x793A;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x201C;&#x559D;&#x9152; &#xFF08;drink&#xFF09;&#x201D;&#x548C;/&#x6216;&#x201C;&#x4ECA;&#x665A; &#xFF08;tonight&#xFF09;&#x201D;&#xFF09;&#x3002;`
      lan=1
      document.querySelector("#switch_lan").innerText="Switch to English"
      }else{
       lan=0   
      }
  $("#uname").val(getQueryVariable("username"))
  $("#uid").val(getQueryVariable("uid"))
  $('.ui.modal').modal({
    closable  : false})
  .modal('show');

})
$("#switch_lan").click(function(){
if(lan==0){
  document.querySelector("#instruction").innerHTML=`&#x4ECE;&#x73B0;&#x6709;&#x7684;&#x7814;&#x7A76;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x5199;&#x4F5C;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x8BA4;&#x77E5;&#x8FC7;&#x7A0B;&#xFF0C;&#x5927;&#x8111;&#x4F1A;&#x9996;&#x5148;&#x5BF9;&#x8981;&#x5199;&#x7684;&#x5185;&#x5BB9;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7684;&#x60F3;&#x6CD5;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x56FE;&#x7247;&#x3001;&#x5355;&#x4E2A;&#x5355;&#x8BCD;&#xFF0C; &#x6700;&#x591A;&#x4E5F;&#x5C31;&#x662F;&#x77ED;&#x8BED;/&#x4ECE;&#x53E5;&#xFF09;&#x3002;&#x8FD9;&#x4E2A;&#x7684;&#x60F3;&#x6CD5;&#x6240;&#x5305;&#x542B;&#x7684;&#x5185;&#x5BB9;&#x901A;&#x5E38;&#x5728;&#x8BED;&#x4E49;&#x4E0A;&#x662F;&#x5B8C;&#x6574;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5927;&#x8111;&#x4F1A;&#x7528;&#x6B63;&#x786E;&#x7684;&#x62FC;&#x5199;&#x548C;&#x8BED;&#x6CD5;&#x3001;&#x9002;&#x5F53;&#x7684;&#x8BED;&#x6C14;&#x5C06;&#x5176;&#x8F6C;&#x5F55;&#x6210;&#x6700;&#x7EC8;&#x5F62;&#x5F0F;&#x3002;
        <br><br>
&#x5728;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x91CD;&#x70B9;&#x4E86;&#x89E3;&#x5927;&#x8111;&#x9996;&#x5148;&#x4F1A;&#x62BD;&#x8C61;&#x51FA;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x6211;&#x4EEC;&#x4F1A;&#x9996;&#x5148;&#x5411;&#x60A8;&#x5448;&#x73B0;&#x5B8C;&#x6574;&#x7684;&#x53E5;&#x5B50;&#xFF1B;&#x5728;&#x4F60;&#x7406;&#x89E3;&#x4E86;&#x5176;&#x542B;&#x4E49;&#x4E4B;&#x540E;&#xFF0C;&#x8BF7;&#x627E;&#x51FA;&#x5176;&#x4E2D;&#x4F60;&#x60F3;&#x8BF4;&#x540C;&#x6837;&#x7684;&#x8BDD;&#x65F6;&#x8111;&#x6D77;&#x4E2D;&#x4F1A;&#x9996;&#x5148;&#x51FA;&#x73B0;&#x7684;&#x8BCD;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x5B83;&#x4EEC;&#x79F0;&#x4E3A;&#x5173;&#x952E;&#x5B57;&#x3002;
<br><br>
&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5199;&#x4E00;&#x4E2A;&#x7B80;&#x77ED;&#x7684;&#x53E5;&#x5B50;&#xFF0C;&#x4F8B;&#x5982;&#x201C;&#x4ECA;&#x665A;&#x770B;&#x5B8C;&#x7535;&#x5F71;&#x6211;&#x4EEC;&#x559D;&#x70B9;&#x5C0F;&#x9152; (Let&#x2019;s have a quick drink tonight after the movie.)&#x201D;&#x3002;&#x5F88;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x5728;&#x4F60;&#x8111;&#x6D77;&#x4E2D;&#x7684;&#x5173;&#x952E;&#x8BCD;&#x662F;&#x201C;&#x559D;&#x9152; &#xFF08;drink&#xFF09;&#x201D;&#x3001;&#x201C;&#x4ECA;&#x665A; &#xFF08;tonight&#xFF09;&#x201D;&#x3001;&#x201C;&#x7535;&#x5F71;&#xFF08;movie&#xFF09;&#x201D;&#x548C;&#x201C;&#x5C0F;/&#x5FEB;&#xFF08;quick&#xFF09;&#x201D;&#x3002;&#x4F60;&#x9700;&#x8981;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x672C;&#x6846;&#x4E2D;&#x952E;&#x5165;&#x8FD9;&#x4E9B;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x5E76;&#x5BF9;&#x7167;&#x6574;&#x4E2A;&#x53E5;&#x5B50;&#x7684;&#x8BED;&#x4E49;&#x6765;&#x7ED9;&#x5B83;&#x4EEC;&#x7684;&#x91CD;&#x8981;&#x6027;&#x5BF9;&#x5B83;&#x4EEC;&#x8FDB;&#x884C;&#x8BC4;&#x5206;&#x3002; 1 &#x8868;&#x793A;&#x53E5;&#x5B50;&#x4E2D;&#x6700;&#x4E0D;&#x91CD;&#x8981;&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x201C;&#x5C0F;/&#x5FEB;&#xFF08;quick&#xFF09;&#x201D;&#xFF09;&#xFF0C;5 &#x8868;&#x793A;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x201C;&#x559D;&#x9152; &#xFF08;drink&#xFF09;&#x201D;&#x548C;/&#x6216;&#x201C;&#x4ECA;&#x665A; &#xFF08;tonight&#xFF09;&#x201D;&#xFF09;&#x3002;`
      lan=1
      document.querySelector("#switch_lan").innerText="Switch to English"
}else{
  document.querySelector("#instruction").innerHTML=`From existing research, we learned that writing as a cognitive process begins with the brain proposing an abstract idea of what to write (pictures, individual words, or phrases/clauses at most). The abstract idea is usually semantically complete, and our brain will transcribe it into the final form (correct spelling and grammar, appropriate tone, etc.). 
<br><br>
In this study, we will focus on understanding what kind of information will be abstracted by our brain first. The process is simulated by presenting a complete sentence to you first; after you get the complete semantic meaning of the sentence, please identify the words that will occur in your mind if you want to convey the same information. We will refer to them as keywords.
<br><br>
For example, if you want to write a short sentence like "Let's have a quick drink tonight after the movie." Keywords that are very likely coming to your mind would be "drink", "tonight", "movie", and "quick". We want you to identify these keywords by typing them in the textbox below, and also rate them based on how important they are according to the semantic meaning of the whole sentence. 1 means the least important keyword in the sentence (e.g., "quick"), 5 means the most important (e.g., "drink", and/or "tonight"). 
`
      lan=0
      document.querySelector("#switch_lan").innerHTML="&#x5207;&#x6362;&#x6210;&#x4E2D;&#x6587;"
}

})
$("#confirm_info").click(function(){
  var d = new Date();
  username=$("#uname").val()
  uid=$("#uid").val()
  if(! window.localStorage){
    alert("Your browser do not support localstorage! Please change a browser.");
  }else{

    start_time=localStorage.getItem("start_time")
    if(!start_time){
      start_time= d.getTime()
      localStorage.setItem("start_time", start_time);
    }
    
  }
  $("#Filename").val(username+"_"+uid+"_"+start_time)

 })
</script>
<!-- Hotjar Tracking Code for keywords.hbai.co -->
<script>
  (function(h,o,t,j,a,r){
      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
      h._hjSettings={hjid:2531461,hjsv:6};
      a=o.getElementsByTagName('head')[0];
      r=o.createElement('script');r.async=1;
      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
      a.appendChild(r);
  })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
</body>
</html>